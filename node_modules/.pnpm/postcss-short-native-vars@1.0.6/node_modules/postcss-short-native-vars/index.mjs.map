{"version":3,"file":"index.mjs","sources":["src/utils/replacer.js","src/index.js"],"sourcesContent":["export const replacer = (str, isProp) => {\r\n\tif (isProp) return str.replace(\"$\", \"--\");\r\n\r\n\tif (str.match(/\\$([A-Za-z0-9_-]*)/g)) {\r\n\t\treturn str.replace(/\\$([A-Za-z0-9_-]*)/g, (match, p1) => {\r\n\t\t\tif (match[match.length - 1] !== \" \") return `var(--${p1})`;\r\n\r\n\t\t\treturn `var(--${p1}) `;\r\n\t\t});\r\n\t}\r\n};\r\n","import postcss from \"postcss\";\nimport { replacer } from \"./utils/replacer\";\n\nexport default postcss.plugin(\"postcss-postcss-test-plugin\", () => {\n\treturn (root) => {\n\t\troot?.nodes?.forEach((node) => {\n\t\t\tif (node.type === \"atrule\" && node.name === \"define-mixin\") {\n\t\t\t\treturn node;\n\t\t\t}\n\n\t\t\tnode?.nodes?.forEach((node) => {\n\t\t\t\tif (node?.prop?.startsWith(\"$\")) {\n\t\t\t\t\tnode.prop = replacer(node?.prop, true);\n\t\t\t\t}\n\n\t\t\t\tif (node?.value?.includes(\"$\")) node.value = replacer(node?.value);\n\t\t\t});\n\t\t});\n\t};\n});\n"],"names":["replacer","str","isProp","replace","match","p1","length","postcss","plugin","root","nodes","forEach","node","type","name","prop","startsWith","value","includes"],"mappings":";;AAAO,MAAMA,QAAQ,GAAG,CAACC,GAAD,EAAMC,MAAN,KAAiB;EACxC,IAAIA,MAAJ,EAAY,OAAOD,GAAG,CAACE,OAAJ,CAAY,GAAZ,EAAiB,IAAjB,CAAP;;EAEZ,IAAIF,GAAG,CAACG,KAAJ,CAAU,qBAAV,CAAJ,EAAsC;IACrC,OAAOH,GAAG,CAACE,OAAJ,CAAY,qBAAZ,EAAmC,CAACC,KAAD,EAAQC,EAAR,KAAe;MACxD,IAAID,KAAK,CAACA,KAAK,CAACE,MAAN,GAAe,CAAhB,CAAL,KAA4B,GAAhC,EAAqC,OAAQ,SAAQD,EAAG,GAAnB;MAErC,OAAQ,SAAQA,EAAG,IAAnB;KAHM,CAAP;;AAMD,CAVM;;ACGP,YAAeE,OAAO,CAACC,MAAR,CAAe,6BAAf,EAA8C,MAAM;EAClE,OAAQC,IAAD,IAAU;IAAA;;IAChBA,IAAI,SAAJ,IAAAA,IAAI,WAAJ,2BAAAA,IAAI,CAAEC,KAAN,4DAAaC,OAAb,CAAsBC,IAAD,IAAU;MAAA;;MAC9B,IAAIA,IAAI,CAACC,IAAL,KAAc,QAAd,IAA0BD,IAAI,CAACE,IAAL,KAAc,cAA5C,EAA4D;QAC3D,OAAOF,IAAP;;;MAGDA,IAAI,SAAJ,IAAAA,IAAI,WAAJ,2BAAAA,IAAI,CAAEF,KAAN,4DAAaC,OAAb,CAAsBC,IAAD,IAAU;QAAA;;QAC9B,IAAIA,IAAJ,aAAIA,IAAJ,6BAAIA,IAAI,CAAEG,IAAV,uCAAI,WAAYC,UAAZ,CAAuB,GAAvB,CAAJ,EAAiC;UAChCJ,IAAI,CAACG,IAAL,GAAYf,QAAQ,CAACY,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAEG,IAAP,EAAa,IAAb,CAApB;;;QAGD,IAAIH,IAAJ,aAAIA,IAAJ,8BAAIA,IAAI,CAAEK,KAAV,wCAAI,YAAaC,QAAb,CAAsB,GAAtB,CAAJ,EAAgCN,IAAI,CAACK,KAAL,GAAajB,QAAQ,CAACY,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAEK,KAAP,CAArB;OALjC;KALD;GADD;AAeA,CAhBc,CAAf;;;;"}